<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="styles/group.css"></link>
    <link rel="stylesheet" href="styles/members.css"></link>
    <link rel="stylesheet" href="styles/style.css"></link>
    <link rel="stylesheet" href="styles/tags.css"></link>    
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="scripts/group.js"></script>
    <script src="scripts/post.js"></script>
    <script src="scripts/poll.js"></script>
    <script src="scripts/members.js"></script>
    <script src="scripts/map.js"></script>
    <script src="scripts/logout.js"></script>
    <script src="scripts/tags.js"></script>
    <script src="scripts/config.js"></script>
    <script src="https://unpkg.com/ionicons@5.1.2/dist/ionicons.js"></script>
    <title>Group</title>
  </head>

  <body onload="init()">
    <div class=sidebar>
      <div id=navbar class="navbar">
        <a id="logout-btn" title="Logout"><img src="images/logout.svg"></img></a>
        <a id="profile-btn" href="profile.html" title="Profile"></a>
      </div>

      <div id="members-container">
          <h4 class="align-vertical">Members</h4>
          <button class="plus-icon align-vertical" type="image" onclick="openAddGroupMemberModal()"><img class="small-icon" src="images/plus_icon.png" alt/></button>
          <div class="scrollbox-members">
            <div class="member-grid-container"></div>
          </div>
      </div>

      <div id="tags-container">
          <h4 class="align-vertical">Tags</h4>
          <!-- add an about button that opens an explainer modal -->
          <button class="about-icon align-vertical" type="image" onclick="openAboutTags()">
            <img class="small-icon" src="images/about.svg" alt="About"/>
          </button>
          <div id="group-tags"></div>
      </div>
    </div>
    
    <div class="group-container">
      <div class="group-header">
        <div class="group-name-banner">
          <span id="group-name" class="align-vertical"></span>
        </div>
      </div>
        
      <div class="create-post">
        <form id="post-form" method="POST" enctype="multipart/form-data">
          <span class="user-img align-vertical"></span>
        
          <input type="text" id="post-input" class="align-vertical" name="post-input" placeholder="Post a status">
        
          <label for="fileid">
            <img class="camera-btn align-vertical medium-icon" src="images/camera.png" alt />
          </label>
          <input id='fileid' type='file' name='image' />
        
          <button class="post-btn align-vertical" type="image" form="post-form"><img class="medium-icon" src="images/send_plane.png" alt /></button>
        </form>
      </div>

      <div id="memberProfile" class="member-modal">
        <!-- Modal content -->
        <div class="member-content">
          <span class="member-close">&times;</span>
        </div>
      </div>

      <div class="add-member" id="add-member-modal">
        <div class="add-member-content">
          <span id="add-close" onclick="addModalListeners('add-member-modal', 'add-close')">&times;</span>
          <h2>Add Group Member</h2>

          <form id="search-name" autocomplete="off">
            <label for="member-name-input">Search by name</label>
            <input type="text" class="input-field" name="name-search" id="name-search" placeholder="Name" onkeydown="return event.key != 'Enter';">
            <div id="suggestions">
            </div>
          </form>
          
          <br></br>
          <hr></hr>
          <br></br>

          <form id="add-member" onsubmit="addMember()" method="POST">
            <label for="member-email-input">Add by email</label>
            <input type="text" class="input-field" name="email-input" id="email-input" placeholder="Email">
            <p id=memberUpdate></p>
            <button class="add-member-btn">Add</button>
          </form>
        </div>
      </div>

      <div class="about-tags-modal" id="about-tags-modal">
        <div class="about-tags-content">
          <span id="about-close">&times;</span>
          <h2>About Tags</h2>
          <p>
             Group tags are descriptions of your group generated by analyzing your group's content.
             Your group is "tagged" with the things you and your friends talk about most often. 
             These are updated every day, so if you make new posts or comments,
             check back tomorrow to see if there's a change!
          </p>
        </div>
      </div>
        
      <div class="challenge-container">
        <h2>
          Challenge of the Week
        </h2>
        <p id="weekly-challenge"></p>
        <p id="due-date"></p>
        <div class="mark-completed">
          <span id="mark-completed-text">Mark Completed:</span>
          <span class="check-container">
              <input type="checkbox" class="challenge-checkbox" onchange="markChallenge(this.id, this.checked)">
              <label id="challenge-label"></label>
            </span>
        </div>
      </div>
          
      <div class="poll-container">
        <div class="inner-poll-container">
          <h2>
            Poll
          </h2>
        <div id="options-container"></div>
      </div>
      
      <input id="input-box" name="input-box" placeholder="Add a suggestion" onkeydown="if (event.keyCode == 13) addPollOption()"></input>
      </div>

      <div class="group-locations">
        <div id="group-locations-container">
          <h2 onclick="toggle_location_visibility()"> Near Group </h2>
          <div id="group-locations-content">
            <label class="drop-menu" for="number">Locations:</label>
            <select name="number" id="number" onchange="locationAmount()">
            <option value="1">1</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            </select>

            <div class="scrollbox-locations">
              <div id="locations-container"></div>
            </div>

            <div class="map" id="map-container">
              <div id="map"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="post-feed">
        <div id="posts-container"></div>
      </div>

      <div id="join-group-modal">
        <p id="join-group-text"></p>
        <button id="join-group-btn">Join Group</button>
        <a id="go-to-profile">Go to profile</a>
      </div>
    </div>
        
    <template id="option-template">
      <div class="option-container">
        <p></p>
        <svg width="690" height="55">
          <rect height="55" width="690" class="poll-rect" />
          <rect height="55" id="inner-bar" class="poll-inner-rect" />
        </svg>

        <span class="check-container">
          <input type="checkbox" onchange="handleCheckboxCount(this.id, this.checked)">
          <label></label>
        </span>
        <div id="num-votes" class="votes-label"></div>
      </div>
    </template>

    <script src="scripts/search.js"></script>
  </body>
</html>